
<div class="container" *ngIf="!isMobile">
  <app-side-menu></app-side-menu>
  <div class="insertions">

    <mat-progress-bar mode="indeterminate" *ngIf="!completed"></mat-progress-bar>

    <mat-card class="no-mobile" *ngIf="completed">
      <div class="image-content">
        <div class="image-primary">
          <img mat-card-image [src]="primaryImage" class="mat-elevation-z3">
        </div>
        <div class="image-gallery">
          <section *ngFor="let image of imagesArray" class="section">
          <img  [src]="image" class="thumb mat-elevation-z2" (click)="changePrimaryImage(image)">
          </section>
        </div>
      </div>

      <div class="detail-content">
        <app-like class="favorite" [key]="key"></app-like>
        <h2>{{ title }}</h2>
        <h4>{{ getCategoryName(category) }}</h4>
        <h5><i>{{ description }}</i></h5>
        <h4> Scadenza {{ timeToEnd }}</h4>
        <mat-card-actions *ngIf="!isHigherBidder">
          <button mat-raised-button="" color="warn" (click)="openDialog()">Fai un'offerta</button>
        </mat-card-actions>
        <mat-card-content *ngIf="isHigherBidder" class="higher-bidder">
          <h2>Sei il miglior offerente!</h2>
        </mat-card-content>
        <agm-map [latitude]="lat" [longitude]="lng" [zoom]=zoom>
          <agm-marker [latitude]="lat" [longitude]="lng" title="Centro del Riuso di Malnate" ></agm-marker>
        </agm-map>
      </div>
    </mat-card>
  </div>
</div>

<div *ngIf="isMobile">

  <div class="nav-bar mat-elevation-z2">
    <app-nav-bar></app-nav-bar>
  </div>


  <mat-progress-bar mode="indeterminate" *ngIf="!completed"></mat-progress-bar>

  <mat-card *ngIf="completed">

    <mat-card-header>
    <h3>{{ title }}</h3>

    </mat-card-header>
    <app-like class="favorite" [key]="key"></app-like>
    <mat-card-content>

      <div class="image-primary">
        <img mat-card-image [src]="primaryImage" class="mat-elevation-z3">
      </div>
      <div class="image-gallery">
        <section *ngFor="let image of imagesArray" class="section">
          <img  [src]="image" class="thumb mat-elevation-z2" (click)="changePrimaryImage(image)">
        </section>
      </div>
    </mat-card-content>

    <h5>{{ getCategoryName(category) }}</h5>
    <h6>{{ description }}</h6>
    <h4> Scadenza {{ timeToEnd }}</h4>
    <mat-card-actions *ngIf="!isHigherBidder">
      <button mat-raised-button="" color="warn" (click)="openDialog()">Fai un'offerta</button>
    </mat-card-actions>
    <mat-card-content *ngIf="isHigherBidder" class="higher-bidder">
      <h2>Sei il miglior offerente!</h2>
    </mat-card-content>

  </mat-card>

</div>
