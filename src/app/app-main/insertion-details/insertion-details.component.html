
<div class="container">


  <app-side-menu></app-side-menu>

  <div class="insertions">



    <mat-card class="spinner-container" *ngIf="!completed">
      <mat-spinner class="loader"></mat-spinner>
    </mat-card>




    <mat-card *ngIf="completed">

      <div class="image-content">


        <div class="image-primary">

          <img mat-card-image [src]="primaryImage" class="mat-elevation-z3">

        </div>
        <div class="image-gallery">

          <section *ngFor="let image of imagesArray" class="section">
          <img  [src]="image" class="thumb mat-elevation-z2" (click)="changePrimaryImage(image)">
          </section>
        </div>




      </div>


      <div class="detail-content">

        <app-like class="favorite" [key]="key"></app-like>


        <h2>{{ title }}</h2>

        <h5>{{ getCategoryName(category) }}</h5>

        <h6>{{ description }}</h6>

        <h4> Scadenza {{ timeToEnd }}</h4>


        <mat-card-actions *ngIf="!isHigherBidder">
          <button mat-raised-button="" color="warn" (click)="openDialog()">Fai un'offerta</button>
        </mat-card-actions>

        <mat-card-content *ngIf="isHigherBidder" class="higher-bidder">
          <h2>Sei il miglior offerente!</h2>
        </mat-card-content>

        <agm-map [latitude]="lat" [longitude]="lng" [zoom]=zoom>
          <agm-marker [latitude]="lat" [longitude]="lng" title="Centro del Riuso di Malnate" ></agm-marker>
        </agm-map>
      </div>

    </mat-card>
  </div>
</div>
